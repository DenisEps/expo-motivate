{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/nikitalambin/Desktop/phase3/expo-motivate/client/src/navigation/RootNavigator/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TabNavigator from \"../TabNavigator\";\nimport AuthStackScreen from \"../../screens/AuthStackScreen/index\";\nimport RegistrationForm from \"../../components/Auth/RegistrationForm\";\nimport AuthForm from \"../../components/Auth/AuthForm\";\nimport PushNotifications from \"../../components/TestDb/TestPushNotifications\";\nimport Profile from \"../../components/Profile/index\";\nimport StartForm from \"../../components/Auth/StartForm\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { userAuth, deleteUser, setLoader } from \"../../redux/actions\";\nimport { firebase } from \"../../../firebase\";\n\nvar RootNavigator = function RootNavigator() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var dispatch = useDispatch();\n  var auth = useSelector(function (state) {\n    return state.user;\n  });\n  useEffect(function () {\n    load();\n  }, []);\n\n  var load = function load() {\n    var user, err;\n    return _regeneratorRuntime.async(function load$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.t0 = JSON;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('user'));\n\n          case 4:\n            _context.t1 = _context.sent;\n            user = _context.t0.parse.call(_context.t0, _context.t1);\n\n            if (user !== null) {\n              dispatch(userAuth(true));\n            }\n\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t2 = _context[\"catch\"](0);\n            err = new Error(_context.t2);\n            setError(err.message);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  return true ? React.createElement(TabNavigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }) : React.createElement(StartForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 36\n    }\n  });\n};\n\nexport default RootNavigator;","map":{"version":3,"sources":["/Users/nikitalambin/Desktop/phase3/expo-motivate/client/src/navigation/RootNavigator/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","TabNavigator","AuthStackScreen","RegistrationForm","AuthForm","PushNotifications","Profile","StartForm","AsyncStorage","userAuth","deleteUser","setLoader","firebase","RootNavigator","error","setError","dispatch","auth","state","user","load","JSON","getItem","parse","err","Error","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAGA,OAAOC,YAAP;AACA,OAAOC,eAAP;AACA,OAAOC,gBAAP;AACA,OAAOC,QAAP;AACA,OAAOC,iBAAP;AACA,OAAOC,OAAP;AACA,OAAOC,SAAP;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,SAA/B;AACA,SAASC,QAAT;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA,kBACAf,QAAQ,CAAC,IAAD,CADR;AAAA;AAAA,MACnBgB,KADmB;AAAA,MACZC,QADY;;AAE1B,MAAMC,QAAQ,GAAGjB,WAAW,EAA5B;AACA,MAAMkB,IAAI,GAAGjB,WAAW,CAAC,UAAAkB,KAAK;AAAA,WAAIA,KAAK,CAACC,IAAV;AAAA,GAAN,CAAxB;AAEAtB,EAAAA,SAAS,CAAC,YAAM;AACduB,IAAAA,IAAI;AAQL,GATQ,EASN,EATM,CAAT;;AAWA,MAAMA,IAAI,GAAG,SAAPA,IAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAEIC,IAFJ;AAAA;AAAA,6CAEqBb,YAAY,CAACc,OAAb,CAAqB,MAArB,CAFrB;;AAAA;AAAA;AAEHH,YAAAA,IAFG,eAESI,KAFT;;AAIT,gBAAIJ,IAAI,KAAK,IAAb,EAAmB;AACjBH,cAAAA,QAAQ,CAACP,QAAQ,CAAC,IAAD,CAAT,CAAR;AACD;;AANQ;AAAA;;AAAA;AAAA;AAAA;AAQHe,YAAAA,GARG,GAQG,IAAIC,KAAJ,aARH;AASTV,YAAAA,QAAQ,CAACS,GAAG,CAACE,OAAL,CAAR;;AATS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAaA,SAAO,OAAO,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP,GAA0B,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjC;AACD,CA9BD;;AAgCA,eAAeb,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { SafeAreaView } from \"react-native\";\n\nimport TabNavigator from \"../TabNavigator\";\nimport AuthStackScreen from \"../../screens/AuthStackScreen/index\";\nimport RegistrationForm from \"../../components/Auth/RegistrationForm\";\nimport AuthForm from '../../components/Auth/AuthForm'\nimport PushNotifications from '../../components/TestDb/TestPushNotifications'\nimport Profile from '../../components/Profile/index'\nimport StartForm from '../../components/Auth/StartForm'\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { userAuth, deleteUser, setLoader } from \"../../redux/actions\";\nimport { firebase } from '../../../firebase'\n\n\nconst RootNavigator = () => {\n  const [error, setError] = useState(null);\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.user);\n\n  useEffect(() => {\n    load();\n    // if (auth === true) {\n    //   console.log('dispatch TRUE');\n    //   dispatch(setLoader(true))\n    // } else {\n    //   console.log('dispatch FALSE');\n    //   dispatch(setLoader(false))\n    // }\n  }, [])\n\n  const load = async () => {\n    try {\n      const user = JSON.parse(await AsyncStorage.getItem('user'));\n\n      if (user !== null) {\n        dispatch(userAuth(true));\n      }\n    } catch (error) {\n      const err = new Error(error)\n      setError(err.message);\n    }\n  }\n  // return <AuthForm />\n  return true ? <TabNavigator /> : <StartForm />;\n};\n\nexport default RootNavigator;\n"]},"metadata":{},"sourceType":"module"}